import{F as I,G as P,H as y,I as R,d as O,J as x,K as L,r as b,i as D,t as M,v as T,x as v,L as U,z as _,A as h,B as w,_ as G}from"./BJhRLVcp.js";import{u as J}from"./KDdJr-tk.js";const N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAACYktHRAD/h4/MvwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADlJREFUWMPt08ERACAIBDEomvqxBh18EQogn9us+HsJAAAAt0BPfQU8A2YKULKSdQAQmpIBAMBm4AAtdCIhmRB8RAAAAABJRU5ErkJggg==";function F(t){return I()?(P(t),!0):!1}function S(t){return typeof t=="function"?t():y(t)}const C=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const W=Object.prototype.toString,H=t=>W.call(t)==="[object Object]",g=()=>{},Q=V();function V(){var t,s;return C&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((s=window==null?void 0:window.navigator)==null?void 0:s.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function m(t){var s;const r=S(t);return(s=r==null?void 0:r.$el)!=null?s:r}const B=C?window:void 0;function E(...t){let s,r,o,u;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,o,u]=t,s=B):[s,r,o,u]=t,!s)return g;Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]);const A=[],d=()=>{A.forEach(l=>l()),A.length=0},i=(l,c,e,n)=>(l.addEventListener(c,e,n),()=>l.removeEventListener(c,e,n)),f=R(()=>[m(s),S(u)],([l,c])=>{if(d(),!l)return;const e=H(c)?{...c}:c;A.push(...r.flatMap(n=>o.map(a=>i(l,n,a,e))))},{immediate:!0,flush:"post"}),p=()=>{f(),d()};return F(p),p}let k=!1;function j(t,s,r={}){const{window:o=B,ignore:u=[],capture:A=!0,detectIframe:d=!1}=r;if(!o)return g;Q&&!k&&(k=!0,Array.from(o.document.body.children).forEach(e=>e.addEventListener("click",g)),o.document.documentElement.addEventListener("click",g));let i=!0;const f=e=>u.some(n=>{if(typeof n=="string")return Array.from(o.document.querySelectorAll(n)).some(a=>a===e.target||e.composedPath().includes(a));{const a=m(n);return a&&(e.target===a||e.composedPath().includes(a))}}),l=[E(o,"click",e=>{const n=m(t);if(!(!n||n===e.target||e.composedPath().includes(n))){if(e.detail===0&&(i=!f(e)),!i){i=!0;return}s(e)}},{passive:!0,capture:A}),E(o,"pointerdown",e=>{const n=m(t);i=!f(e)&&!!(n&&!e.composedPath().includes(n))},{passive:!0}),d&&E(o,"blur",e=>{setTimeout(()=>{var n;const a=m(t);((n=o.document.activeElement)==null?void 0:n.tagName)==="IFRAME"&&!(a!=null&&a.contains(o.document.activeElement))&&s(e)},0)})].filter(Boolean);return()=>l.forEach(e=>e())}const q={class:"top-bar"},z={class:"top-bar-inner"},K={class:"top-bar-nav"},Y=O({name:"TopBar",__name:"top-bar",setup(t){const s=x(),r=J(),{posts:o,curPage:u,allPage:A}=L(r),d=()=>{s.name==="post-list"&&(o.value=[],u.value=1,A.value=0,r.indexPost())},i=b(!1),f=()=>{i.value=!0},p=b(null);return j(p,()=>{i.value=!1}),(l,c)=>{const e=D("router-link");return M(),T("header",q,[v("div",z,[v("nav",K,[v("img",{onClick:f,ref_key:"menuRef",ref:p,class:"top-bar-menu",src:N,alt:"菜单"},null,512),v("div",{class:U(["trigger",{hover:y(i)}])},[_(e,{class:"top-bar-link",to:"/posts",onClick:d},{default:h(()=>[w("POSTS")]),_:1}),_(e,{class:"top-bar-link",to:"/tags"},{default:h(()=>[w("TAGS")]),_:1}),_(e,{class:"top-bar-link",to:"/profile"},{default:h(()=>[w("PROFILE")]),_:1})],2)]),_(e,{class:"top-bar-title",to:"/home"},{default:h(()=>[w("Aiden Notes")]),_:1})])])}}}),Z=G(Y,[["__scopeId","data-v-b456ed5e"]]);export{Z as default};
